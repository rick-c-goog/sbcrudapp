apiVersion: skaffold/v2beta26
kind: Config
metadata:
  name: myspringbootapp
build:
  # local: 
  #   push: false
  artifacts:
  - image: myspringbootapp
    context: myspringbootapp
    docker:
      dockerfile: Dockerfile    
    sync:
      auto: true      
deploy:
   statusCheck: true
   statusCheckDeadlineSeconds: 300
   kubectl:
    manifests:
      - k8s/*
profiles:
  - name: dev
    deploy:
      statusCheck: true
      statusCheckDeadlineSeconds: 300
      kubectl:
       manifests:
         - k8s/*
  - name: test
    deploy:
      kubectl:
        manifests:
         - k8s/*
  - name: staging
    deploy:
      kubectl:
        manifests:
         - k8s/*
  - name: prod
    deploy:
      statusCheck: true
      statusCheckDeadlineSeconds: 300
      kubectl:
        manifests:
         - k8s/*
portForward:
- resourceType: deployment
  resourceName: k8s-boot
  port: 8080